{
  "hash": "35af6c9adac187e258a301ef369f60d8",
  "result": {
    "markdown": "---\ntitle: \"R Basics\"\nauthor: \"Jonas, Pietro & Hauke\"\nformat: \n  revealjs: \n    theme: [simple, custom.scss]\n    logo: img/logo.png\n    footer: \"[Institute of Behavioral Science and Technology](https://www.ibt.unisg.ch/)\"\n    preview-links: true\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n# Welcome to Session 1\n\n## Outline Internal {.small}\n\n::: {.columns}\n::: {.column width=\"50%\"}\n- make sure everything is installed\n- Reasons to script, use R & use cases\n- Computational empathy (make comments)\n- Operators, algebra & boolean \n:::\n\n::: {.column width=\"50%\"}\n- Assigning values to objects & naming conventions\n- Vectors & subsetting (base R)\n- Functions and packages\n- The %>% operator\n- Workspace & fresh sessions\n- Exercise, resources & bonus\n:::\n:::\n\n## Outline\n\nIn this session we will\n\n- make sure [R & RStudio](https://learnr-examples.shinyapps.io/ex-setup-r/) are up and running on all of your machines,\n- show why we like R,\n- introduce you to RStudio's User Interface,\n- demonstrate some basic concepts and data structures.\n\n## Getting started\n\n::: {layout-ncol=2}\n![QR to Survey](img/QR_survey.png)\n\n![QR to Setup](img/QR_setup.png)\n:::\n\n## Why we like R {.smaller}\n\n**Scripts vs. WYSIWYG (Excel or SPSS)**\n\nAnalyses conducted in R are transparent, easily shareable, and reproducible. This helps not only others to run and understand your code but also your future selves.\n\n**Open Source**\n\nR is 100% free of charge and as a result, has a huge support community. it means that a huge community of R programmers will constantly develop an distribute new R functionality. It also means that you find a lot of help online as others ran into the same problems as you do.\n\n**Versatility**\n\nYes, R is not Python. You can still use it to do a lot of stuff. If you can imagine an analytical task, you can almost certainly implement (and automate) it in R.\n\n**RStudio**\n\nRStudio helps you write R code. You can easily and seamlessly organize and combine R code, analyses, plots, and written text into elegant documents all in one place.\n\n## Examples & Use Cases\n\n- [Dashboards](https://beta.rstudioconnect.com/jjallaire/htmlwidgets-highcharter/htmlwidgets-highcharter.html#sales-by-category)\n- [Master Thesis](https://howquez.github.io/Are-there-hidden-Benefits-of-Monitoring/Predictions.html#the-self-interested-agents-expected-utility) [& Research Paper](https://github.com/Howquez/coopUncertainty/blob/main/analysis/quarto/paper.pdf)\n- [Fraud Detection](http://rstudio-pubs-static.s3.amazonaws.com/334864_28050f7860dd4927a596872f0cd52401.html)\n- [These Slides](https://github.com/Howquez/r-basics/blob/main/session_1.qmd)\n\n\n## R & RStudio\n\nRStudio is an integrated development environment (IDE) for R. It helps the user effectively use R by making things easier with features such as:\n\n- Syntax highlighting,\n- Code completion,\n- Smart indentation,\n- Workspaces (more on that later), etc.\n\n\n## RStudio GUI {.smaller}\n\nOpening RStudio, you will see four window panes:\n\n- bottom left: The `Console` executes code. You can use it to test code that is not saved.\n- upper left: The `Source` opens your scripts, markdown documents or notebooks. It is the one you'll use the most as it allows you to write and save both comments and code. You have to actively run the code, though.\n- upper right: The `Environment Pane` displays the objects (e.g. data, variables, custom functions) you can access in your current memory.\n- bottom right: This pane shows you many different, yet important, tabs. You can browse your directory, view plots, get help and see installed packages.\n\n::: footer\nSee this [cheat sheet](https://github.com/Howquez/r-basics/blob/main/material/rstudio-ide.pdf)\n:::\n\n## {background-image=\"https://raw.githubusercontent.com/Howquez/r-basics/main/img/GUI.png\"}\n\n## Computational Empathy\n\nKnow your audience, i.e. yourself. And don't be naive.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#\n# Dear programmer:\n# When I wrote this code, only god and I knew how it worked.\n# Now, only god knows it!\n#\n# Therefore, if you are trying to optimize this routine\n# and it fails (most surely), please increase this counter\n# as a warning for the next person\n#\n# total_hours_wasted_here = 254\n#\n```\n:::\n\n\n::: footer\nsource: [reddit](https://www.reddit.com/r/ProgrammerHumor/comments/8pdebc/only_god_and_i_knew/)\n:::\n\n\n# Vamos!\n\n## Operators\n\n::: {layout-ncol=2}\n\nIn the most simple form, R is an advanced calculator. Operators are symbols you know from any other program (Excel, etc.), such as `+` or `-`.\n\n| Operation | Description      |\n|-----------|------------------|\n| x + y     | Addition         |\n| x - y     | Subtraction      |\n| x * y     | Multiplication   |\n| x / y     | Division         |\n| x ^ y     | Exponentiation   |\n| x %/% y   | Integer Division |\n| x %% y    | Remainder        |\n\n:::\n\n## Algebra\n\n\n::: {.cell}\n\n```{.r .cell-code}\n2+2\n2 * 4\n2^4\n2 + (2 * 3) ^ 2\n(1 + 3) / 2 + 45\n13 %/% 3\n13 %% 5\n```\n:::\n\n\n## Boolean Algebra {.smaller}\n\n| Operation | Description           | Output                                                       |\n|-----------|-----------------------|--------------------------------------------------------------|\n| x < y     | Less than             | TRUE if x is smaller than y. FALSE otherwhise                |\n| x <= y    | Less or equal than    | TRUE if x is smaller or equal than y. FALSE otherwhise       |\n| x > y     | Greater than          | TRUE if x is greater than y. FALSE otherwhise                |\n| x >= y    | Greater or equal than | TRUE if x is greater or equal than y. FALSE otherwhise       |\n| x == y    | Exactly equal to      | TRUE if and only if x is equal to y. FALSE otherwhise        |\n| x != y    | Not equal to          | TRUE if and only if x is not equal to y. FALSE otherwhise    |\n|           |                       |                                                              |\n| !x        | Negation              | TRUE if x is equal to FALSE or 0. FALSE otherwhise           |\n| x \\| y    | OR                    | TRUE if x or y or both are TRUE . FALSE otherwhise           |\n| x & y     | AND                   | TRUE if and only if x and y are both TRUE . FALSE otherwhise |\n\n\n## Boolean Algebra\n\n\n::: callout-tip\n\nA Boolean expression is a logical statement that is either `TRUE` or `FALSE.` \n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n3 < 4\n3 >= 4\n3 == 4\n3 != 4\n\n!TRUE\nTRUE | FALSE\nTRUE & FALSE\n```\n:::\n\n\n\n## Data Types \n\nThere are many different data types. We will focus on the most basic ones:\n\n| Data Type | Example       |\n|-----------|---------------|\n| Numeric   | `42`          |\n| Character | `\"forty two\"` |\n| Logical   | `TRUE`        |\n\n\n::: callout-tip\n\nUse `class()` to identify data types. `class(42)` will return `numeric`, for instance. What's the output of `class(NA)`?\n:::\n\n<!--\nYou can create obejcts such as vectors^[We'll cover this today.], data.frames^[On tomorrow's menu.], lists, etc. to store these data types in multiple dimensions.\n-->\n\n\n## Assign Values to Variables\n\n- R can keep several objects in memory at the same time\n- To distinguish them, object have names.\n- Objects are assigned with `<-` or `=` (we recommend the former).\n\nBelow, we create two objects and _call_ the latter one:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create\na <- 2+2\ntxt <- \"Hello world!\"\n# call \ntxt\n# [1] \"Hello world!\"\n```\n:::\n\n\n\n## Naming Conventions\n\n\n- Variable and function names should be lowercase. \n- Use an underscore `_` to separate words within a name. \n- Strive for names that are concise and meaningful (this is not easy!).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Good\nday_one\nday_1\n\n# Bad\nfirst_day_of_the_month\ndayone\n```\n:::\n\n\n## Naming Conventions\n\nWhere possible, avoid using names of existing functions and variables. Doing so will cause confusion for the readers of your code.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Bad\nT <- FALSE\nc <- 10\nmean <- function(x) sum(x)\n```\n:::\n\n\n::: callout-note\n\nAlso, try to avoid special symbols such as `+`, for example. If you really need them, you can escape them using the back tick ` \n:::\n\n## Naming Conventions\n\n::: callout-warning\n\nImportantly, be careful to not reassign an object unintentionally.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\na <- log(42)\na\n# [1] 3.73767\n\n# imagine to do some stuff in between...\n# ...forgot about your object...\n# ...and that you want to create another object called \"a\".\n\na <- 40 + 2\na\n# [1] 42\n```\n:::\n\n\n## Naming Conventions\n\n::: callout-tip\n## Case Sensitivity\nUppercase and lowercase letters are treated as distinct.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nA <- 12\na <- 42\na == A\n\n# [1] FALSE\n```\n:::\n\n\nThis is not only important, but also helpful in some cases. However, try not to name two different objects with the same name and varying cases. This will confuse you later on.\n\n## Vectors\n\nWe can **c**ombine objects `c()` command to create a vector. The documentation says:\n\n> The default method combines its arguments to form a vector. All arguments are coerced to a common type which is the type of the returned value [...].\n\n\n::: {.cell}\n\n```{.r .cell-code}\na     <- c(1, 2, 3)\ncntry <- c(\"CH\", \"FR\", \"NL\", \"DK\")\ntest  <- c(1, 3, 5, \"seven\")\n```\n:::\n\n\n# Subsetting\n\n`[]` is your friend.\n\n## Functions\n\nSo far, you have seen at least two built-in functions: `class()` & `c()`.\nAnother useful function is `mean()`.\n\nYou can recognize a function either via `class()`^[`class(class)` returns `\"function\"`, for instance.] or by the parentheses.\n\nTo call a function, you have to provide some argument(s). The `mean()` function needs some sort of vector, for instance.\n\n## How to get Help? {.smaller}\n\nAssume you want to learn how to use the `mean()` function.\n\n- `?mean` or `help(mean)`\n- Use [stackoverflow](https://stackoverflow.com/questions/16801340/mean-in-r-by-using-mean)\n\n\n## Packages\n\n- Packages are the fundamental units of reproducible R code. They include reusable R functions, the documentation that describes how to use them, and sample data.\n\n- The comprehensive R Archive Network currently features [18.694 packages](https://cran.r-project.org/index.html).\n\n- The majority of packages is quite niche-specific.\n\n- To get started, we'll show you how to install [Tidyverse](https://www.tidyverse.org/), an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.\n\n## {background-image=\"https://hbctraining.github.io/Intro-to-R/img/tidyverse_website.png\" background-size=\"contain\" background-repeat=\"no-repeat\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#\n# run this only once\ninstall.packages(\"package_name\")\n#\n# run this at the beginning of each session (if needed)\nlibrary(package_name)\n#\n#\n# your turn: install & load tidyverse\n```\n:::\n\n\n::: footer\n[Source](https://hbctraining.github.io/Intro-to-R/lessons/08_intro_tidyverse.html)\n:::\n\n## The %>% Operator {background-image=\"https://magrittr.tidyverse.org/logo.png\" background-size=\"contain\" background-repeat=\"no-repeat\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\na <- c(1, 2, 3, 4, 5, NA)\n#\nas.character(mean(a, na.rm = TRUE))\n#\n# We can do the same with the so called pipe operator %>% \n# Stems from the mgrittr package and is included in the tidyverse\n#\na %>% mean(na.rm = TRUE) %>% as.character()\n```\n:::\n\n\n\n::: footer\n[Source](https://magrittr.tidyverse.org/)\n:::\n\n## Exercise {.smaller}\n\n::: callout-tip\n## Generate three objects\n\n- `my_pi` should contain the number pi (try out the command `pi`)\n- a vector, called `a`, should contain the numbers `1` to `3`\n- `b` should the multiplication of `1*pi`, `2*pi` `3*pi`\n:::\n\n## Workspace & Environment\n\n- We can see all objects currently in our workspace by typing `ls()`.\n- You can remove objects using `rm()`\n\n\n::: {.cell}\n\n:::\n\n\n\n![Don't!](img/workspace.png)\n\n## Bonus: Scripts, Markdown & Project {.smaller}\n\n- Scripts are a great way to document _how_ you analyzed your data.\n- Like a recipe, scripts make it easy (for you and others) to reproduce your process _exactly_.\n- You can also use RMarkdown, which allows you to blend code chunks with text.^[Which is great for reports and quantitative master theses, for instance.]\n- To make your code even more organized and reproducible, use R Projects (We'll show an example).\n\n\n## Ressources \n\nswirl is a great start as it teaches you R interactively, at your own pace, and right in the R console! Run the following code to get started.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"swirl\") # install this package once\nlibrary(swirl)\nsiwrl()\n```\n:::\n\n\n## Ressources \n\nResources we found helpful creating the slides:\n\n- [YaRrrr](https://bookdown.org/ndphillips/YaRrr/)\n- [Introduction to R by John Mushcelli and Andrew Jaffe](https://users.phhp.ufl.edu/rlp176/Courses/PHC6089/R_notes/index.html)\n- [R for Data Science](http://r4ds.had.co.nz/)\n\n",
    "supporting": [
      "session_1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    function fireSlideChanged(previousSlide, currentSlide) {\n\n      // dispatch for htmlwidgets\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for reveal\n    if (window.Reveal) {\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\n        fireSlideChanged(event.previousSlide, event.currentSlide);\n      });\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}